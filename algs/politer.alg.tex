% Policy iteration algorithm

\begin{algorithm}
\caption{Policy Iteration}
\label{alg:politer}

\begin{enumerate}

	\item Initialization \\
		$V(s) \in \Reals$
		and
		$\policy(s) \in \Actions(s)$ arbitrarily for all $s$

	\item Policy Evaluation (see Algorithm~\ref{alg:poleval}).


	\item Policy Improvement
		\begin{algorithmic}[0]
			\State $\textit{policy-true} \gets \textit{true}$

			\ForAll{$s \in \States$}

				\State $\textit{old-policy} \gets \policy(s)$

				\State $\policy(s) \gets
					\argmax_{a} \sum_{s',r} {
						p(s',r|s,a)\left[r+\gamma V(s')\right]
						}$

				\If {$\textit{old-action} \neq \policy(s)$}
					\State $\textit{policy-stable} \gets \textit{true}$
				\EndIf

			\EndFor
		\end{algorithmic}

\end{enumerate}

\end{algorithm}
